<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
  <!-- Import vega-embed -->
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>

<div style="width:95%; height:25vmin;" id="vis"></div>


<script type="text/javascript">
  var spec = "bar.vl.json";
  var indicatorData = "barData.csv";
  var reportNeighborhood = {"geo_entity_name":"Canarsie - Flatlands"};

  const el = document.getElementById('#vis');
  let barView = vegaEmbed("#vis", spec)  //, embed_opt)
          .catch(error => showError(el, error))
              .then((res) =>  res.view
              .runAsync());

function showError(domelement,errortext) {
    console.log(errortext);
}
        
</script>
</body>
</html>